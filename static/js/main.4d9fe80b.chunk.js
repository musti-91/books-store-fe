(this["webpackJsonpbook-store"]=this["webpackJsonpbook-store"]||[]).push([[0],{55:function(e,n,t){e.exports=t.p+"static/media/island_of_fog.257cc49a.jpg"},69:function(e,n,t){e.exports=t(90)},74:function(e,n,t){},75:function(e,n,t){},76:function(e,n){},85:function(e,n,t){},90:function(e,n,t){"use strict";t.r(n);var a=t(33),r=t(0),o=t.n(r),c=t(7),i=t(14),l=t.n(i),u=t(15),s=t(23),m=t(20),d=t(19),b=t(21),g=t(120),p=t(121),f=(t(74),t(62)),h=t(47),v=(t(75),t(55)),E=t.n(v),O=function(e){var n=e.children,t=e.book,a=o.a.useState(!1),r=Object(f.a)(a,2),c=r[0],i=r[1],l=Object(h.b)({height:c?"75%":"100%",from:{height:"100%"}});return o.a.useEffect((function(){i(!0)}),[]),o.a.createElement("div",{className:"card",onClick:function(){return i(!c)}},o.a.createElement(h.a.div,{style:l,className:"cover"},o.a.createElement("img",{src:t&&t.coverPicture?t.coverPicture:E.a,alt:t&&"".concat(t.name,"-cover")})),o.a.createElement("div",{className:"menu",onClick:function(){return i(!c)}},"..."),c&&t&&o.a.createElement("div",null,o.a.createElement("div",{className:"detail"},o.a.createElement("div",{className:"title"},"[]: ",t.published),o.a.createElement("div",{className:"info"},"[]:",t.rating),o.a.createElement("div",{className:"pages"},"[]: ",t.pages),o.a.createElement("div",{className:"languages"},"[]:",t.languages.map((function(e){return e.substring(0,2).toUpperCase()}))),o.a.createElement("div",{className:"awards"},"[]:",t.awards.map((function(e){return e}))),o.a.createElement("div",{className:"genre"},"[]: ",t.genre&&t.genre.name),o.a.createElement("div",{className:"awards"},"[]: ","Nobel"),o.a.createElement("div",{className:"genre"},"[]: ","Something"))),c&&!t&&o.a.createElement("div",{className:"error"},"Can't get Book Detail"),n)},k=function(e){var n=e.books;return o.a.createElement("div",{className:"list"},n&&0!==n.length&&n.map((function(e,n){return o.a.createElement(O,{key:"book-key-".concat(n),book:e})})))},j=(t(76),t(39));function y(){var e=Object(j.a)(["\n    query($id: ID) {\n        book(id: $id) {\n            id\n            name\n            genre {\n                id\n                name\n            }\n            author {\n                name\n                age\n                id\n                books {\n                    name\n                    id\n                }\n            }\n        }\n    }\n"]);return y=function(){return e},e}function N(){var e=Object(j.a)(["\n    mutation($name: String!, $genre: String!, $authorId: ID!) {\n        addBook(name: $name, genre: $genre, authorId: $authorId) {\n            id\n            name\n            genre {\n                id\n                name\n            }\n        }\n    }\n"]);return N=function(){return e},e}function w(){var e=Object(j.a)(["\n    {\n        books {\n            id\n            name\n            published\n            rating\n            pages\n            awards\n            languages\n            coverPicture\n            genre {\n                id\n                name\n                description\n            }\n            author {\n                id\n                name\n                description\n            }\n        }\n    }\n"]);return w=function(){return e},e}function C(){var e=Object(j.a)(["\n    {\n        authors {\n            id\n            name\n            age\n            books {\n                id\n                name\n                genre {\n                    id\n                    name\n                }\n            }\n        }\n    }\n"]);return C=function(){return e},e}var B=Object(a.b)(C()),S=Object(a.b)(w()),A=Object(a.b)(N()),P=(Object(a.b)(y()),t(60)),_=t(30),I=t(119),D=t(118),$=t(116),x=t(117),q=t(115),L=t(114);function M(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}var J=function(e){function n(){var e,t;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(r)))).state={name:"",genre:"",authorId:"",open:!1},t._onChange=function(e){var n=e.target,a=n.value,r=n.name;t.setState((function(){return Object(_.a)({},r,a)}))},t._onSubmit=function(e){e.preventDefault();var n=t.props,a=n.addBook,r=n.getBooks,o=t.state,c=o.name,i=o.genre,l=o.authorId;""!==c.trim()&&""!==i.trim()&&""!==l.trim()&&a({variables:{name:c,genre:i,authorId:l},refetchQueries:[{query:r}]})},t._renderAuthors=function(){var e=t.props.getAuthors;return e.loading?o.a.createElement("option",{disabled:!0},"loading..."):e.authors.map((function(e){return o.a.createElement("option",{value:e.id,key:e.id},e.name)}))},t}return Object(b.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this,n=this.state.open;return o.a.createElement(I.a,{open:n},o.a.createElement(L.a,null,o.a.createElement("div",{className:"add-book"},o.a.createElement(q.a,null,"Add Book"),o.a.createElement($.a,null,o.a.createElement("form",{onSubmit:this._onSubmit},o.a.createElement("div",{className:"field"},o.a.createElement(x.a,null,"Book name:"," "),o.a.createElement("input",{type:"text",onChange:this._onChange,name:"name"})),o.a.createElement("div",{className:"field"},o.a.createElement(x.a,null,"Genre:"," "),o.a.createElement("input",{type:"text",onChange:this._onChange,name:"genre"})),o.a.createElement("div",{className:"field"},o.a.createElement(x.a,null,"Author name:"," "),o.a.createElement("select",{onChange:this._onChange,name:"authorId"},o.a.createElement("option",null,"Select Author"),this._renderAuthors())),o.a.createElement(D.a,null,o.a.createElement(g.a,{type:"submit",color:"primary"},"Add Book"),o.a.createElement(g.a,{color:"danger",onClick:function(){return e.setState((function(){return{open:!1}}))}},"Cancel")))))))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?M(t,!0).forEach((function(n){Object(_.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):M(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n,{open:!!e.isOpen&&e.isOpen})}}]),n}(r.Component),F=Object(P.flowRight)(Object(p.a)(B,{name:"getAuthors"}),Object(p.a)(S,{name:"getBooks"}),Object(p.a)(A,{name:"addBook"}))(J),G=function(e){function n(){var e,t;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(r)))).state={addBookModal:!1},t._renderLoading=function(){return o.a.createElement("div",null,"Loading ....")},t}return Object(b.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this,n=this.props.data,t=this.state.addBookModal;return o.a.createElement("div",{className:"main-container"},n.loading&&this._renderLoading(),!n.loading&&n.books&&o.a.createElement(k,{books:n.books}),o.a.createElement(g.a,{label:"Add Book",onClick:function(){return e.setState((function(){return{addBookModal:!t}}))}},"Add book"),t&&o.a.createElement(F,{isOpen:!0}))}}]),n}(r.Component),Q=Object(p.a)(S)(G);t(85);t(86).config();var R=new a.a({uri:"".concat("http://localhost:5000","/graphql")});l.a.render(o.a.createElement(c.b,{client:R},o.a.createElement(Q,null)),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.4d9fe80b.chunk.js.map